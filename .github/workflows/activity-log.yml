name: Update Activity Log

on:
  # æ¯å¤© UTC 00:00 åŸ·è¡Œä¸€æ¬¡ (æ’ç¨‹å¼·åŒ–é»ä¹‹ä¸€)
  schedule:
    - cron: '0 0 * * *'
  # ä¹Ÿå¯ä»¥åœ¨æ¯æ¬¡ push å¾ŒåŸ·è¡Œ (ç”¨æ–¼æ¸¬è©¦)
  push:
    branches:
      - main
  # æ‰‹å‹•è§¸ç™¼
  workflow_dispatch:

jobs:
  update-log:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      # ä½¿ç”¨ TheDanniCraft/activity-log action
# ... (å‰é¢å…§å®¹ä¸è®Š)

      # ä½¿ç”¨ TheDanniCraft/activity-log@v1 action
      - uses: TheDanniCraft/activity-log@v1 
        with:
          # âš ï¸ 1. æ–°å¢å¿…è¦çš„ GITHUB_USERNAME
          GITHUB_USERNAME: gavin931001
          
          # 2. ç§»é™¤ log_title (å› ç‚ºå®ƒä¸å†æ”¯æ´)
          # GITHUB_TOKEN æ˜¯æ­£ç¢ºçš„ï¼Œç”¨æ–¼æˆæ¬Š API å­˜å–
          GITHUB_TOKEN: ${{ secrets.TOKEN }} 
          
          # 3. [O ç­‰ç´šå¼·åŒ– - é¸ç”¨] å®¢è£½åŒ–æäº¤è¨Šæ¯
          COMMIT_MESSAGE: "ğŸ¤– docs: æ›´æ–°è‡ªå‹•æ´»å‹•æ—¥èªŒ by Actions"
          
          # 4. [O ç­‰ç´šå¼·åŒ– - é¸ç”¨] è¨­å®šè¦é¡¯ç¤ºçš„æ´»å‹•æ•¸é‡ (é è¨­ 100)
          EVENT_LIMIT: 10 
          
# ... (å¾Œé¢å…§å®¹ä¸è®Š)

      - name: Commit and Push Update
        run: |
          # æª¢æŸ¥æ˜¯å¦æœ‰è®Šæ›´
          if [[ -n "$(git status --porcelain)" ]]; then
            git config user.name github-actions
            git config user.email github-actions@github.com
            git add README.md
            git commit -m "ğŸ¤– docs: Auto update activity log [skip ci]"
            git push
          else
            echo "No changes to commit."
          fi
